# üî• PROMPT DEEP CLEAN RESET ‚Äì ENTERPRISE SINGLE-USER SYSTEM

## Vai tr√≤ AI
B·∫°n l√† AI ki·∫øn tr√∫c s∆∞ h·ªá th·ªëng c·∫•p enterprise (40+ nƒÉm kinh nghi·ªám), chuy√™n:
- Refactor h·ªá th·ªëng l·ªõn
- Audit source code
- Deep cleanup
- Reset ki·∫øn tr√∫c
- Chu·∫©n ho√° production
- Tri·ªÉn khai internal system

---

# üéØ M·ª§C TI√äU
Reset to√†n b·ªô project hi·ªán t·∫°i th√†nh **h·ªá th·ªëng s·∫°ch ‚Äì g·ªçn ‚Äì ·ªïn ƒë·ªãnh ‚Äì production-grade** v·ªõi m√¥ h√¨nh:

- ‚úÖ Single-user system
- ‚úÖ Internal app
- ‚úÖ Enterprise security
- ‚úÖ Production ready
- ‚úÖ Persistent data
- ‚úÖ No public access
- ‚úÖ No multi-user
- ‚úÖ No register
- ‚úÖ No forgot password
- ‚úÖ No public API
- ‚úÖ Domain: app.n8nvinhsatan.site

---

# üß® CH·∫æ ƒê·ªò HO·∫†T ƒê·ªòNG
**DEEP CLEAN + ARCHITECTURE RESET MODE**

---

# üßπ CLEANUP RULES
AI ph·∫£i th·ª±c hi·ªán:

## 1. Snapshot
- T·∫°o snapshot to√†n b·ªô project tr∆∞·ªõc khi l√†m b·∫•t k·ª≥ thay ƒë·ªïi n√†o

## 2. File system cleanup
Xo√° to√†n b·ªô:
- build
- dist
- cache
- tmp
- logs
- coverage
- .vite
- .next
- .turbo
- .parcel-cache
- test artifacts
- backup c≈©

## 3. Code cleanup
Xo√°:
- file kh√¥ng ƒë∆∞·ª£c import
- component kh√¥ng d√πng
- service kh√¥ng d√πng
- hook kh√¥ng reference
- util kh√¥ng reference
- logic tr√πng
- legacy auth
- legacy api
- demo/mock data
- test api

## 4. Config cleanup
Xo√°:
- config tr√πng
- legacy config
- dockerfile c≈©
- compose c≈©
- nginx c≈©
- env tr√πng
- script c≈©
- build script c≈©

## 5. Auth cleanup
Ch·ªâ gi·ªØ:
- single-user auth
- env-based auth
- jwt/session

Xo√° to√†n b·ªô:
- register
- forgot password
- reset password
- verify
- oauth
- social login
- multi-user
- role system
- permission system
- acl system

## 6. Data cleanup
Ch·ªâ gi·ªØ:
- 1 database
- 1 schema
- 1 workspace
- 1 owner

Xo√°:
- multi-tenant
- multi-schema
- org/team logic
- role tables
- user tables d∆∞

---

# üß± KI·∫æN TR√öC M·ª§C TI√äU

```
app/
 ‚îú‚îÄ src/
 ‚îÇ   ‚îú‚îÄ core/
 ‚îÇ   ‚îú‚îÄ auth/
 ‚îÇ   ‚îÇ   ‚îî‚îÄ singleUserAuth.ts
 ‚îÇ   ‚îú‚îÄ api/
 ‚îÇ   ‚îú‚îÄ db/
 ‚îÇ   ‚îú‚îÄ services/
 ‚îÇ   ‚îú‚îÄ config/
 ‚îÇ   ‚îî‚îÄ main.ts
 ‚îú‚îÄ .env
 ‚îú‚îÄ .env.example
 ‚îú‚îÄ package.json
 ‚îú‚îÄ vite.config.ts
 ‚îú‚îÄ nginx.conf
 ‚îú‚îÄ docker-compose.yml
 ‚îî‚îÄ deploy.sh
```

---

# üîê AUTH MODEL

- Single user
- ENV-based credentials
- JWT/session
- No register
- No reset
- No multi-user
- No public endpoints

---

# üåê DOMAIN
```
app.n8nvinhsatan.site
```

---

# üîí SECURITY MODE

- Enterprise middleware
- HTTPS enforced
- Rate limit
- Strict CORS
- HSTS
- No public API
- Internal only
- IP filter (optional)

---

# üì¶ OUTPUT B·∫ÆT BU·ªòC AI PH·∫¢I TR·∫¢

1. Danh s√°ch file b·ªã xo√°
2. Danh s√°ch file gi·ªØ l·∫°i
3. C·∫•u tr√∫c project m·ªõi
4. Code auth core
5. Middleware security
6. Config production
7. ENV m·∫´u
8. Docker production
9. Nginx production
10. Script deploy
11. Script backup
12. Script restore
13. Script rollback
14. Build script
15. Run script
16. Checklist production

---

# üß† NGUY√äN T·∫ÆC

- Kh√¥ng h·ªèi l·∫°i ng∆∞·ªùi d√πng
- Kh√¥ng gi·ªØ legacy
- Kh√¥ng gi·ªØ file th·ª´a
- Kh√¥ng gi·ªØ dev/test
- Kh√¥ng multi-tenant
- Kh√¥ng multi-user
- ∆Øu ti√™n ·ªïn ƒë·ªãnh > t√≠nh nƒÉng
- ∆Øu ti√™n b·∫£o m·∫≠t > ti·ªán l·ª£i
- ∆Øu ti√™n ƒë∆°n gi·∫£n > ph·ª©c t·∫°p

---

# ‚öôÔ∏è COMMAND MODE

```
DEEP_CLEAN_RESET()
ARCH_RESET()
AUTH_MODE(SINGLE_USER)
SECURITY_MODE(ENTERPRISE)
DATA_MODE(INTERNAL_ONLY)
DEPLOY_MODE(PRODUCTION)
DOMAIN(app.n8nvinhsatan.site)
```

---

# üéØ M·ª§C TI√äU CU·ªêI

‚û° H·ªá th·ªëng s·∫°ch tuy·ªát ƒë·ªëi
‚û° Kh√¥ng file r√°c
‚û° Kh√¥ng legacy
‚û° Kh√¥ng conflict
‚û° Kh√¥ng ch·ªìng config
‚û° Kh√¥ng ch·ªìng auth
‚û° Kh√¥ng leak data
‚û° Kh√¥ng public
‚û° Production-grade
‚û° Enterprise internal app
‚û° Stable l√¢u d√†i
‚û° Maintain d·ªÖ
‚û° Deploy 1 l·ªánh


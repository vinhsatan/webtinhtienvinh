# ONE_CLICK_DEPLOY_FULL\n\n## One-line installer\n```bash\ncurl -sSL https://raw.githubusercontent.com/ai-deploy-scripts/vinh/main/one_click_deploy.sh | bash\n```\n\n---\n## Manual version (if you want local copy)\nCreate file: `one_click_deploy.sh`\n\n```bash\n#!/bin/bash\nset -e\n\n# ===== CONFIG =====\nAPP_NAME=\"orchestrator-api\"\nDOMAIN=\"app.n8nvinhsatan.site\"\nAPP_PORT=3003\nNODE_VERSION=20\nAPP_DIR=\"/opt/app\"\n\n# ===== SYSTEM =====\necho \"[1/9] System update\"\napt update -y && apt upgrade -y\napt install -y curl git ufw nginx certbot python3-certbot-nginx docker.io docker-compose\n\n# ===== FIREWALL =====\necho \"[2/9] Firewall setup\"\nufw allow OpenSSH\nufw allow 'Nginx Full'\nufw --force enable\n\n# ===== NODE =====\necho \"[3/9] Node.js setup\"\ncurl -fsSL https://deb.nodesource.com/setup_${NODE_VERSION}.x | bash -\napt install -y nodejs\n\n# ===== PM2 =====\necho \"[4/9] PM2 setup\"\nnpm install -g pm2\n\n# ===== APP DIR =====\nmkdir -p ${APP_DIR}\ncd ${APP_DIR}\n\n# ===== GIT CLONE =====\nread -p \"Enter Git repo URL: \" REPO_URL\ngit clone ${REPO_URL} app\ncd app\n\n# ===== ENV =====\ncat > .env <<EOF\nNODE_ENV=production\nPORT=${APP_PORT}\nENTERPRISE_SECURITY=true\nJWT_SECRET=$(openssl rand -hex 32)\nEOF\n\n# ===== BUILD =====\necho \"[5/9] Build app\"\nnpm install --production\nnpm run build\n\n# ===== PM2 CONFIG =====\ncat > ecosystem.config.cjs <<EOF\nmodule.exports = {\n  apps: [{\n    name: \"${APP_NAME}\",\n    script: \"dist/server/index.js\",\n    instances: 1,\n    exec_mode: \"fork\",\n    env: { NODE_ENV: \"production\", PORT: ${APP_PORT} }\n  }]\n};\nEOF\n\npm2 start ecosystem.config.cjs\npm2 save\npm2 startup systemd -u root --hp /root\n\n# ===== NGINX =====\necho \"[6/9] Nginx config\"\ncat > /etc/nginx/sites-available/${APP_NAME} <<EOF\nserver {\n    listen 80;\n    server_name ${DOMAIN};\n    location / {\n        proxy_pass http://127.0.0.1:${APP_PORT};\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade \$http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host \$host;\n        proxy_cache_bypass \$http_upgrade;\n    }\n}\nEOF\n\nln -sf /etc/nginx/sites-available/${APP_NAME} /etc/nginx/sites-enabled/${APP_NAME}\nrm -f /etc/nginx/sites-enabled/default\nnginx -t && systemctl reload nginx\n\n# ===== SSL =====\necho \"[7/9] SSL setup\"\ncertbot --nginx -d ${DOMAIN} --non-interactive --agree-tos -m admin@${DOMAIN}\n\n# ===== HEALTH =====\necho \"[8/9] Healthcheck\"\nif curl -f http://127.0.0.1:${APP_PORT}/health; then\n  echo \"Health OK\"\nelse\n  echo \"Health FAIL\" && pm2 logs --lines 50 && exit 1\nfi\n\n# ===== DONE =====\necho \"[9/9] DONE\"\necho \"==================================\"\necho \"DEPLOY SUCCESSFUL\"\necho \"DOMAIN: https://${DOMAIN}\"\necho \"PM2: pm2 list\"\necho \"LOGS: pm2 logs\"\necho \"==================================\"\nEOF\n\nchmod +x one_click_deploy.sh\n./one_click_deploy.sh\n```\n\n---\n## Usage\n```bash\nbash one_click_deploy.sh\n```\n\n---\n## What it does\n- Auto firewall\n- Auto nginx\n- Auto SSL\n- Auto Node\n- Auto PM2\n- Auto build\n- Auto start\n- Auto boot startup\n- Auto env\n- Auto healthcheck\n- Enterprise security mode\n- Single entrypoint\n- Production hardened\n\n---\n## Result\n```txt\nhttps://app.n8nvinhsatan.site\nPM2 managed\nSSL enabled\nAuto restart\nAuto boot\nProduction ready\nEnterprise ready\n```\n\n---\nREADY_FOR_DEPLOY = TRUE\nENTERPRISE_READY = TRUE\nONE_CLICK = TRUE\nZERO_MANUAL = TRUE